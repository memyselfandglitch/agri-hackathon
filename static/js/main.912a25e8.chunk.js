(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],Array(33).concat([function(e,t,a){},,,,function(e,t){e.exports="data:image/png;base64,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"},,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABOElEQVRIie2VT0rDQBSHvzc1ZLxHdSOC0GVbDHqTnqOUELxEN72IhbYa3VtXtReoJ0gCMc9FEaQ008QGV/3BLIb35vfNH94bOOmA5PfERj1twjQdxbI30ARg18Mca3hIZ5Wyxh3P39jAiFwDFKrvmXozwnl+NMBG3T6fZoJo++fsIoKVfC0PvUEyjGPXeucV2ajbB3kEbe8JX2jB9Dzqd/8GGHc8MBPAd6z3FZ0QBqU3UQrwNzYo2fmuLq183dYGGGNuKpgDIEZLcx1voEVVAEpp/ZQCikKXlf1V3moDMvVmwLqC/yrV1qI2gHCei2EAZA7zTIwZuArOWQfJMI4FuQc+9oRXYsxdMnx6dXkcrORk9PxCGFzZVh4I21ahBctUWwtGDbQKAMJ5nsKU7ail/++mTX06J1XWNyBNYvRPINQkAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABLUlEQVRIie2VwUrDQBRF7wsppaT5i+pGBKESF1JMmj/Jh+VHFJNCFarZWFe1n5GMUChzXUjBSmaS2K6kdze8N/cMD+4b4KQGyc9DFgx5DNPopZLawjEAvz2cQw2b5LZpKsboVa4XauISABzBOwcqi3JsDwbkgT8pwRTEaDdYEsDncJ3dSBItyrntvnVEeeBPCN4DGNWUz0A+PF77t38CFGP0CKYA+pb7fcdhmoXmSRgBleuFqH/5ngicU3l3nQGgc9VkvpMAxl4jgNS6LYACY36MAHGwbAsA8dYZwIHKAKxb2K/EU7POgCjHFiIJgI3FfKMpiS1w1hxEi3JOLbEAHzXllaZM49fy2ebRmORpUT5lIS6gvFDke1VoYimemsUtVsWe/sc2Pdanc1JrfQHnwGjxZokqFAAAAABJRU5ErkJggg=="},,,function(e,t,a){e.exports=a(73)},,,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),c=a(10),i=a.n(c),s=a(16),o=a(8),u=(a(48),a(4)),m=(a(49),function(e){return r.a.createElement("header",{className:"main-header"},e.children)}),d=Object(l.createContext)({isLoggedIn:!1,userId:null,token:null,login:function(){},logout:function(){}}),E=(a(50),a(79)),p=function(e){var t=Object(l.useContext)(d);return r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",null,r.a.createElement(o.c,{to:"/",exact:!0},"ALL USERS")),t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(o.c,{to:"/".concat(t.userId,"/products")},"MY PRODUCTS")),t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(o.c,{to:"/products/new"},"ADD PRODUCT")),!t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(o.c,{to:"/auth"},"AUTHENTICATE")),t.isLoggedIn&&r.a.createElement("li",null,r.a.createElement(E.a,{variant:"outline-success",onClick:t.logout},"LOGOUT")))},f=a(75),g=(a(56),function(e){var t=r.a.createElement(f.a,{in:e.show,timeout:200,classNames:"slide-in-left",mountOnEnter:!0,unmountOnExit:!0},r.a.createElement("aside",{className:"side-drawer",onClick:e.onClick},e.children));return i.a.createPortal(t,document.getElementById("drawer-hook"))}),v=(a(57),function(e){return i.a.createPortal(r.a.createElement("div",{className:"backdrop",onClick:e.onClick}),document.getElementById("backdrop-hook"))}),b=a(37),h=a.n(b),A=(a(58),function(e){var t=Object(l.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],i=function(){c(!1)};return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(v,{onClick:i}),r.a.createElement(g,{show:n,onClick:i},r.a.createElement("nav",{className:"main-navigation__drawer-nav"},r.a.createElement(p,null))),r.a.createElement(m,null,r.a.createElement("button",{className:"main-navigation__menu-btn",onClick:function(){c(!0)}},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("h1",{className:"main-navigation__title"},r.a.createElement("img",{src:h.a,alt:"Logo"}),r.a.createElement(o.b,{to:"/"},"farmFridge")),r.a.createElement("nav",{className:"main-navigation__header-nav"},r.a.createElement(p,null))))}),y=a(5),N=a.n(y),w=(a(60),function(e){return r.a.createElement("div",{className:"avatar ".concat(e.className),style:e.style},r.a.createElement("img",{src:e.image,alt:e.alt,style:{width:e.width,height:e.width}}))}),x=(a(61),function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}),O=(a(62),function(e){return r.a.createElement("li",{className:"user-item"},r.a.createElement(x,{className:"user-item__content"},r.a.createElement(o.b,{to:"/".concat(e.id,"/products")},r.a.createElement("div",{className:"user-item__image"},r.a.createElement(w,{image:"http://localhost:3001/".concat(e.image),alt:e.name})),r.a.createElement("div",{className:"user-item__info"},r.a.createElement("h2",null,e.name),r.a.createElement("h3",null,e.productCount," ",1===e.productCount?"Product":"Products")))))}),k=(a(63),function(e){return 0===e.items.length?r.a.createElement("div",{className:"center"},r.a.createElement(x,null,r.a.createElement("h2",null,"No users found."))):r.a.createElement("ul",{className:"users-list"},e.items.map((function(e){return r.a.createElement(O,{key:e.id,id:e.id,image:e.image,name:e.name,productCount:e.products.length})})))}),j=a(20),C=(a(64),function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(o.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}),I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{show:!!e.error,onHide:e.onClear},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"An Error Occurred!")),r.a.createElement(j.a.Body,null,e.error),r.a.createElement(j.a.Footer,null,r.a.createElement(C,{variant:"secondary",onClick:e.onClear},"Close"))))},T=(a(65),function(e){return r.a.createElement("div",{className:"".concat(e.asOverlay&&"loading-spinner__overlay")},r.a.createElement("div",{className:"lds-dual-ring"}))}),V=function(){var e=Object(l.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(l.useState)(),c=Object(u.a)(r,2),i=c[0],s=c[1],o=Object(l.useRef)([]),m=Object(l.useCallback)((function(e){var t,a,l,r,c,i,u=arguments;return N.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:"GET",a=u.length>2&&void 0!==u[2]?u[2]:null,l=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),r=new AbortController,o.current.push(r),m.prev=6,m.next=9,N.a.awrap(fetch(e,{method:t,body:a,headers:l,signal:r.signal}));case 9:return c=m.sent,m.next=12,N.a.awrap(c.json());case 12:if(i=m.sent,o.current=o.current.filter((function(e){return e!==r})),c.ok){m.next=16;break}throw new Error(i.message);case 16:return n(!1),m.abrupt("return",i);case 20:throw m.prev=20,m.t0=m.catch(6),s(m.t0.message),n(!1),m.t0;case 25:case"end":return m.stop()}}),null,null,[[6,20]])}),[]);return Object(l.useEffect)((function(){return function(){o.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:a,error:i,sendRequest:m,clearError:function(){s(null)}}},B=function(){var e=V(),t=e.isLoading,a=e.error,n=e.sendRequest,c=e.clearError,i=Object(l.useState)(),s=Object(u.a)(i,2),o=s[0],m=s[1];return Object(l.useEffect)((function(){!function(){var e;N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.awrap(n("http://localhost:3001/api/users"));case 3:e=t.sent,m(e.users),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),null,null,[[0,7]])}()}),[n]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:a,onClear:c}),t&&r.a.createElement("div",{className:"center"},r.a.createElement(T,null)),!t&&o&&r.a.createElement(k,{items:o}))},F=a(15),D=function(e){return{type:"MINLENGTH",val:e}},P=function(e,t){var a=!0,n=!0,l=!1,r=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done);n=!0){var s=c.value;"REQUIRE"===s.type&&(a=a&&e.trim().length>0),"MINLENGTH"===s.type&&(a=a&&e.trim().length>=s.val),"MAXLENGTH"===s.type&&(a=a&&e.trim().length<=s.val),"MIN"===s.type&&(a=a&&+e>=s.val),"MAX"===s.type&&(a=a&&+e<=s.val),"EMAIL"===s.type&&(a=a&&/^\S+@\S+\.\S+$/.test(e)),"NUMBER"===s.type&&(a=a&&e>=0)}}catch(o){l=!0,r=o}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}return a},R=(a(66),function(e,t){switch(t.type){case"CHANGE":return Object(F.a)({},e,{value:t.val,isValid:P(t.val,t.validators)});case"TOUCH":return Object(F.a)({},e,{isTouched:!0});default:return e}}),S=function(e){var t=Object(l.useReducer)(R,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(u.a)(t,2),n=a[0],c=a[1],i=e.id,s=e.onInput,o=n.value,m=n.isValid;Object(l.useEffect)((function(){s(i,o,m)}),[i,o,m,s]);var d=function(t){c({type:"CHANGE",val:t.target.value,validators:e.validators})},E=function(){c({type:"TOUCH"})},p="input"===e.element?r.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:d,onBlur:E,value:n.value}):r.a.createElement("textarea",{id:e.id,rows:e.rows||3,onChange:d,onBlur:E,value:n.value});return r.a.createElement("div",{className:"form-control ".concat(!n.isValid&&n.isTouched&&"form-control--invalid")},r.a.createElement("label",{htmlFor:e.id},e.label),p,!n.isValid&&n.isTouched&&r.a.createElement("p",null,e.errorText))},U=a(25),L=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid;return Object(F.a)({},e,{inputs:Object(F.a)({},e.inputs,Object(U.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},G=function(e,t){var a=Object(l.useReducer)(L,{inputs:e,isValid:t}),n=Object(u.a)(a,2),r=n[0],c=n[1];return[r,Object(l.useCallback)((function(e,t,a){c({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(l.useCallback)((function(e,t){c({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]},Q=(a(67),function(e){var t=Object(l.useState)(),a=Object(u.a)(t,2),n=a[0],c=a[1],i=Object(l.useState)(),s=Object(u.a)(i,2),o=s[0],m=s[1],d=Object(l.useState)(!1),E=Object(u.a)(d,2),p=E[0],f=E[1],g=Object(l.useRef)();Object(l.useEffect)((function(){if(n){var e=new FileReader;e.onload=function(){m(e.result)},e.readAsDataURL(n)}}),[n]);return r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{id:e.id,ref:g,style:{display:"none"},type:"file",accept:".jpg,.png,.jpeg",onChange:function(t){var a,n=p;t.target.files&&1===t.target.files.length?(a=t.target.files[0],c(a),f(!0),n=!0):(f(!1),n=!1),e.onInput(e.id,a,n)}}),r.a.createElement("div",{className:"image-upload ".concat(e.center&&"center")},r.a.createElement("div",{className:"image-upload__preview"},o&&r.a.createElement("img",{src:o,alt:"Preview"}),!o&&r.a.createElement("p",null,"Please pick an image.")),r.a.createElement(C,{type:"button",onClick:function(){g.current.click()}},"PICK IMAGE")),!p&&r.a.createElement("p",null,e.errorText))}),q=a(76),H=a(77),M=(a(33),function(){var e=Object(l.useContext)(d),t=V(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,o=Object(l.useState)("Kilogram"),m=Object(u.a)(o,2),E=m[0],p=m[1],f=Object(l.useState)("Fruits and Vegetables"),g=Object(u.a)(f,2),v=g[0],b=g[1];var h=G({title:{value:"",isValid:!1},description:{value:"",isValid:!1},image:{value:null,isValid:!1},quantity:{value:"",isValid:!1},price:{value:"",isValid:!1}},!1),A=Object(u.a)(h,2),y=A[0],w=A[1],x=Object(s.g)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:n,onClear:i}),r.a.createElement("form",{className:"product-form",onSubmit:function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),n.prev=1,(a=new FormData).append("title",y.inputs.title.value),a.append("description",y.inputs.description.value),a.append("quantity",y.inputs.quantity.value),a.append("unit",E),a.append("price",y.inputs.price.value),a.append("category",v),a.append("image",y.inputs.image.value),n.next=12,N.a.awrap(c("http://localhost:3001/api/products","POST",a,{Authorization:"Bearer "+e.token}));case 12:x.push("/"),n.next=17;break;case 15:n.prev=15,n.t0=n.catch(1);case 17:case"end":return n.stop()}}),null,null,[[1,15]])}},a&&r.a.createElement(T,{asOverlay:!0}),r.a.createElement(S,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:w}),r.a.createElement(S,{id:"description",element:"textarea",label:"Description",validators:[D(5)],errorText:"Please enter a valid description (at least 5 characters).",onInput:w}),r.a.createElement(Q,{id:"image",onInput:w,errorText:"Please provide an image"}),r.a.createElement(q.a,null,r.a.createElement(H.a,null,r.a.createElement(S,{type:"number",id:"quantity",element:"input",label:"Quantity",validators:[{type:"REQUIRE"},{type:"NUMBER"}],errorText:"Please enter valid quantity.",onInput:w})),r.a.createElement(H.a,null,r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"unit"},"Unit"),r.a.createElement("select",{className:"form-control",onChange:function(e){p(e.target.value)},value:E,style:{marginTop:"0px",paddingTop:"0px",paddingLeft:"0px",backgroundColor:"#f8f8f8"}},r.a.createElement("option",{value:"Kilogram"},"Kilograms"),r.a.createElement("option",{value:"Litre"},"Litres"),r.a.createElement("option",{value:"Dozen"},"Dozen"))))),r.a.createElement(q.a,null,r.a.createElement(H.a,null,r.a.createElement("div",{className:"form-control"},r.a.createElement("label",{htmlFor:"category"},"Category"),r.a.createElement("select",{className:"form-control",onChange:function(e){b(e.target.value)},value:v,style:{marginTop:"0px",paddingTop:"0px",paddingLeft:"0px",backgroundColor:"#f8f8f8"}},r.a.createElement("option",{value:"Fruits and Vegetables"},"Fruits and Vegetables"),r.a.createElement("option",{value:"Grocery"},"Grocery"),r.a.createElement("option",{value:"Dairy"},"Dairy"),r.a.createElement("option",{value:"Poultry"},"Poultry")))),r.a.createElement(H.a,null,r.a.createElement(S,{type:"number",id:"price",element:"input",label:"Price(Rs) per ".concat(E),validators:[{type:"REQUIRE"},{type:"NUMBER"}],errorText:"Please enter valid price.",onInput:w}))),r.a.createElement(C,{type:"submit",disabled:!y.isValid},"ADD PRODUCT")))}),z=a(78),J=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{show:e.show,onHide:e.onHide},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,e.title)),r.a.createElement(j.a.Body,null,r.a.createElement("div",{className:"view "},r.a.createElement("img",{className:"card-img-top rounded-top",src:"http://localhost:3001/".concat(e.image),alt:e.title}),r.a.createElement("a",{href:"#!"},r.a.createElement("div",{className:"mask rgba-white-slight"}))),e.foodType,r.a.createElement("div",null,r.a.createElement("h5",null,"Description"),r.a.createElement("p",null,e.description))),r.a.createElement(j.a.Footer,null,r.a.createElement(C,{variant:"secondary",onClick:e.onHide},"Close"))))},X=a(39),Z=a.n(X),K=a(40),W=a.n(K),Y=(a(68),function(e){var t,a=V(),n=a.isLoading,c=a.error,i=a.sendRequest,s=a.clearError,m=Object(l.useContext)(d),E=Object(l.useState)(!1),p=Object(u.a)(E,2),f=p[0],g=p[1],v=function(){return g(!1)},b=Object(l.useState)(!1),h=Object(u.a)(b,2),A=h[0],y=h[1];t="Poultry"===e.category?r.a.createElement("img",{src:W.a,alt:"Food Type"}):r.a.createElement("img",{src:Z.a,alt:"Food Type"});return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:c,onClear:s}),r.a.createElement(J,{title:e.title,description:e.description,quantity:e.quantity,foodType:t,unit:e.unit,price:e.price,category:e.category,image:e.image,show:A,onHide:function(){return y(!1)}}),r.a.createElement("div",{className:"col-12 col-sm-8 col-md-6 col-lg-4 product__card"},n&&r.a.createElement(T,{asOverlay:!0}),r.a.createElement("div",{className:"card border-0 shadow"},r.a.createElement("div",{className:"card-body rounded-bottom"},r.a.createElement("div",{className:"view "},r.a.createElement("img",{className:"card-img-top rounded-top",src:"http://localhost:3001/".concat(e.image),alt:e.title}),r.a.createElement("a",{href:"#!"},r.a.createElement("div",{className:"mask rgba-white-slight"}))),t,r.a.createElement("h4",{className:"card-text small mb-2 d-block"},e.category),r.a.createElement(o.b,{className:"h5 card-title",style:{color:"black"},to:"./id"},e.title),r.a.createElement("hr",null),r.a.createElement("ul",{className:"list-unstyled d-flex justify-content-between mb-3 text-center small"},r.a.createElement("li",{className:"price"},r.a.createElement("p",{className:"mb-1 font-weight-bold text-dark"},"Price"),r.a.createElement("span",{className:"amount"},"Rs ",e.price," / ",e.unit)),r.a.createElement("li",{className:"quantity"},r.a.createElement("p",{className:"mb-1 font-weight-bold text-dark"},"Quantity left"),r.a.createElement("span",{className:"amount"},e.quantity," ",e.unit)),r.a.createElement("li",{className:"days"},r.a.createElement("p",{className:"mb-1 font-weight-bold text-dark"},"Days Left"),r.a.createElement("span",{className:"amount"},"15"))),r.a.createElement("ul",{className:"list-unstyled d-flex justify-content-between mb-3 text-center small"},r.a.createElement("li",{className:"view"},r.a.createElement(C,{inverse:!0,onClick:function(){return y(!0)}},"VIEW")),r.a.createElement("li",{className:"edit"},m.userId===e.creatorId&&r.a.createElement(C,{to:"/products/".concat(e.id)},r.a.createElement("i",{className:"far fa-edit"}))),r.a.createElement("li",{className:"delete"},m.userId===e.creatorId&&r.a.createElement(C,{danger:!0,onClick:function(){return g(!0)}},r.a.createElement("i",{className:"fas fa-trash-alt"}))),r.a.createElement(j.a,{show:f,onHide:v},r.a.createElement(j.a.Header,{closeButton:!0},r.a.createElement(j.a.Title,null,"DELETE")),r.a.createElement(j.a.Body,null,"Do you want to delete this product?"),r.a.createElement(j.a.Footer,null,r.a.createElement(C,{inverse:!0,onClick:v},"CANCEL"),r.a.createElement(C,{danger:!0,onClick:function(){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!1),t.prev=1,t.next=4,N.a.awrap(i("http://localhost:3001/api/products/".concat(e.id),"DELETE",null,{Authorization:"Bearer "+m.token}));case 4:e.onDelete(e.id),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),null,null,[[1,7]])}},"DELETE"))))))))}),_=(a(69),function(e){return 0===e.items.length?r.a.createElement("div",{className:"product-list center"},r.a.createElement(x,null,r.a.createElement("h2",null,"No products found. Maybe add one?"),r.a.createElement(C,{to:"/products/new"},"Share Product"))):r.a.createElement(z.a,null,r.a.createElement(q.a,null,e.items.map((function(t){return r.a.createElement(Y,{key:t.id,id:t.id,image:t.image,title:t.title,description:t.description,quantity:t.quantity,unit:t.unit,price:t.price,category:t.category,creatorId:t.creator,onDelete:e.onDeleteProduct})}))))}),$=function(){var e=Object(l.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],c=V(),i=c.isLoading,o=c.error,m=c.sendRequest,d=c.clearError,E=Object(s.h)().userId;Object(l.useEffect)((function(){!function(){var e;N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.awrap(m("http://localhost:3001/api/products/user/".concat(E)));case 3:e=t.sent,n(e.products),console.log(e.products),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[m,E]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:o,onClear:d}),i&&r.a.createElement("div",{className:"center"},r.a.createElement(T,null)),!i&&a&&r.a.createElement(_,{items:a,onDeleteProduct:function(e){n((function(t){return t.filter((function(t){return t.id!==e}))}))}}))},ee=function(){var e=Object(l.useContext)(d),t=V(),a=t.isLoading,n=t.error,c=t.sendRequest,i=t.clearError,o=Object(l.useState)(),m=Object(u.a)(o,2),E=m[0],p=m[1],f=Object(s.h)().productId,g=Object(s.g)(),v=G({title:{value:"",isValid:!1},description:{value:"",isValid:!1},quantity:{value:"",isValid:!1},price:{value:"",isValid:!1}},!1),b=Object(u.a)(v,3),h=b[0],A=b[1],y=b[2];Object(l.useEffect)((function(){!function(){var e;N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N.a.awrap(c("http://localhost:3001/api/products/".concat(f)));case 3:e=t.sent,p(e.product),y({title:{value:e.title,isValid:!0},description:{value:e.description,isValid:!0},quantity:{value:e.quantity,isValid:!0},price:{value:e.price,isValid:!0}},!0),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),null,null,[[0,8]])}()}),[c,f,y]);return a?r.a.createElement("div",{className:"center"},r.a.createElement(T,null)):E||n?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:n,onClear:i}),!a&&E&&r.a.createElement("form",{className:"product-form",onSubmit:function(t){return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,N.a.awrap(c("http://localhost:3001/api/products/".concat(f),"PATCH",JSON.stringify({title:h.inputs.title.value,description:h.inputs.description.value,quantity:h.inputs.quantity.value,price:h.inputs.price.value}),{"Content-Type":"application/json",Authorization:"Bearer "+e.token}));case 4:g.push("/"+e.userId+"/products"),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),null,null,[[1,7]])}},r.a.createElement(S,{id:"title",element:"input",type:"text",label:"Title",validators:[{type:"REQUIRE"}],errorText:"Please enter a valid title.",onInput:A,initialValue:E.title,initialValid:!0}),r.a.createElement(S,{id:"description",element:"textarea",label:"Description",validators:[D(5)],errorText:"Please enter a valid description (min. 5 characters).",onInput:A,initialValue:E.description,initialValid:!0}),r.a.createElement(q.a,null,r.a.createElement(H.a,null,r.a.createElement(S,{type:"number",id:"quantity",element:"input",label:"Quantity",validators:[{type:"REQUIRE"},{type:"NUMBER"}],errorText:"Please enter valid quantity.",onInput:A,initialValue:E.quantity,initialValid:!0})),r.a.createElement(H.a,null,r.a.createElement(S,{type:"number",id:"price",element:"input",label:"Price(Rs) per ".concat(E.unit),validators:[{type:"REQUIRE"},{type:"NUMBER"}],errorText:"Please enter valid price.",onInput:A,initialValue:E.price,initialValid:!0}))),r.a.createElement(C,{type:"submit",disabled:!h.isValid},"UPDATE PRODUCT"))):r.a.createElement("div",{className:"center"},r.a.createElement(x,null,r.a.createElement("h2",null,"Could not find product!")))},te=(a(70),function(){var e,t=Object(l.useContext)(d),a=Object(l.useState)(!0),n=Object(u.a)(a,2),c=n[0],i=n[1],s=V(),o=s.isLoading,m=s.error,E=s.sendRequest,p=s.clearError,f=G({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),g=Object(u.a)(f,3),v=g[0],b=g[1],h=g[2];return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{error:m,onClear:p}),r.a.createElement(x,{className:"authentication"},o&&r.a.createElement(T,{asOverlay:!0}),r.a.createElement("h2",null,"Login Required"),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:function(e){var a,n,l;return N.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.preventDefault(),console.log(v.inputs),!c){r.next=14;break}return r.prev=3,r.next=6,N.a.awrap(E("http://localhost:3001/api/users/login","POST",JSON.stringify({email:v.inputs.email.value,password:v.inputs.password.value}),{"Content-Type":"application/json"}));case 6:a=r.sent,t.login(a.userId,a.token),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(3);case 12:r.next=30;break;case 14:return r.prev=14,(n=new FormData).append("name",v.inputs.name.value),n.append("email",v.inputs.email.value),n.append("password",v.inputs.password.value),n.append("address",v.inputs.address.value),n.append("phone",v.inputs.phone.value),n.append("image",v.inputs.image.value),r.next=24,N.a.awrap(E("http://localhost:3001/api/users/signup","POST",n));case 24:l=r.sent,t.login(l.userId,l.token),r.next=30;break;case 28:r.prev=28,r.t1=r.catch(14);case 30:case"end":return r.stop()}}),null,null,[[3,10],[14,28]])}},!c&&r.a.createElement(S,{element:"input",id:"name",type:"text",label:"Name",validators:[{type:"REQUIRE"}],errorText:"Please enter a name.",onInput:b}),r.a.createElement(S,{element:"input",id:"email",type:"email",label:"E-Mail",validators:[{type:"EMAIL"}],errorText:"Please enter a valid email address.",onInput:b}),r.a.createElement(S,{element:"input",id:"password",type:"password",label:"Password",validators:[D(6)],errorText:"Please enter a valid password, at least 6 characters.",onInput:b}),!c&&r.a.createElement(S,{element:"input",id:"phone",type:"tel",label:"Mobile",pattern:"[0-9]{3}-[0-9]{2}-[0-9]{3}",validators:[{type:"NUMBER"},D(10),(e=10,{type:"MAXLENGTH",val:e})],errorText:"Please enter a valid Mobile number",onInput:b}),!c&&r.a.createElement(S,{id:"address",element:"textarea",label:"Address",validators:[D(5)],errorText:"Please enter a valid address (at least 5 characters).",onInput:b}),!c&&r.a.createElement(Q,{center:!0,id:"image",onInput:b,errorText:"Please provide an image"}),r.a.createElement(C,{type:"submit",disabled:!v.isValid},c?"LOGIN":"SIGNUP")),r.a.createElement(C,{inverse:!0,onClick:function(){c?h(Object(F.a)({},v.inputs,{name:{value:"",isValid:!1},address:{value:"",isValid:!1},image:{value:null,isValid:!1},phone:{value:null,isValid:!1}}),!1):h(Object(F.a)({},v.inputs,{name:void 0,address:void 0,image:void 0,phone:void 0}),v.inputs.email.isValid&&v.inputs.password.isValid&&v.inputs.address.isValid),i((function(e){return!e}))}},"SWITCH TO ",c?"SIGNUP":"LOGIN")))}),ae=(a(71),function(){return r.a.createElement("section",{id:"footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row text-center text-xs-center text-sm-left text-md-left"},r.a.createElement("div",{className:"col-xs-12 col-sm-4 col-md-4"},r.a.createElement("h5",null,"Quick links"),r.a.createElement("ul",{className:"list-unstyled quick-links"},r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"FAQ")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Get Started")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Videos")))),r.a.createElement("div",{className:"col-xs-12 col-sm-4 col-md-4"},r.a.createElement("h5",null,"Quick links"),r.a.createElement("ul",{className:"list-unstyled quick-links"},r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"FAQ")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Get Started")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Videos")))),r.a.createElement("div",{className:"col-xs-12 col-sm-4 col-md-4"},r.a.createElement("h5",null,"Quick links"),r.a.createElement("ul",{className:"list-unstyled quick-links"},r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"About")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"FAQ")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Get Started")),r.a.createElement("li",null,r.a.createElement("a",{href:"/#",title:"Design and developed by"},r.a.createElement("i",{className:"fa fa-angle-double-right"}),"Imprint"))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-5"},r.a.createElement("ul",{className:"list-unstyled list-inline social text-center"},r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-facebook"}))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-twitter"}))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-instagram"}))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/#"},r.a.createElement("i",{className:"fa fa-google-plus"}))),r.a.createElement("li",{className:"list-inline-item"},r.a.createElement("a",{href:"/#",target:"_blank"},r.a.createElement("i",{className:"fa fa-envelope"})))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12 mt-2 mt-sm-2 text-center text-white"},r.a.createElement("p",null,r.a.createElement("u",null,r.a.createElement("a",{href:"/#"},"National Transaction Corporation"))," is a Registered MSP/ISO of Elavon, Inc. Georgia [a wholly owned subsidiary of U.S. Bancorp, Minneapolis, MN]"),r.a.createElement("p",{className:"h6"},"\xa9 All right Reversed.",r.a.createElement("a",{className:"text-green ml-2",href:"/#",target:"_blank"},"FarmFresh"))))))}),ne=function(){var e,t=function(){var e=Object(l.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(l.useState)(),i=Object(u.a)(c,2),s=i[0],o=i[1],m=Object(l.useState)(!1),d=Object(u.a)(m,2),E=d[0],p=d[1],f=Object(l.useCallback)((function(e,t,a){r(t),p(e);var n=a||new Date((new Date).getTime()+36e5);o(n),localStorage.setItem("userData",JSON.stringify({userId:e,token:t,expiration:n.toISOString()}))}),[]),g=Object(l.useCallback)((function(){r(null),o(null),p(null),localStorage.removeItem("userData")}),[]);return Object(l.useEffect)((function(){if(a&&s){var e=s.getTime()-new Date;n=setTimeout(g,e)}else clearTimeout(n)}),[a,g,s]),Object(l.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&f(e.userId,e.token,new Date(e.expiration))}),[f]),{token:a,login:f,logout:g,userId:E}}(),a=t.token,c=t.login,i=t.logout,m=t.userId;return e=a?r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(B,null)),r.a.createElement(s.b,{path:"/:userId/products",exact:!0},r.a.createElement($,null)),r.a.createElement(s.b,{path:"/products/new",exact:!0},r.a.createElement(M,null)),r.a.createElement(s.b,{path:"/products/:productId"},r.a.createElement(ee,null)),r.a.createElement(s.a,{to:"/"})):r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0},r.a.createElement(B,null)),r.a.createElement(s.b,{path:"/:userId/products",exact:!0},r.a.createElement($,null)),r.a.createElement(s.b,{path:"/auth"},r.a.createElement(te,null)),r.a.createElement(s.a,{to:"/auth"})),Object(l.useEffect)((function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/themes/df-messenger-default.css",document.head.appendChild(e);var t=document.createElement("script");return t.src="https://www.gstatic.com/dialogflow-console/fast/df-messenger/prod/v1/df-messenger.js",t.async=!0,document.body.appendChild(t),function(){document.head.removeChild(e),document.body.removeChild(t)}}),[]),r.a.createElement(d.Provider,{value:{isLoggedIn:!!a,token:a,userId:m,login:c,logout:i}},r.a.createElement(o.a,null,r.a.createElement(A,null),r.a.createElement("main",null,e),r.a.createElement(ae,null),r.a.createElement("df-messenger",{"project-id":"agribot-432510","agent-id":"c4eeba6d-2a7f-4762-8fab-d6a55e203f8e","language-code":"en","max-query-length":"-1"},r.a.createElement("df-messenger-chat-bubble",{"chat-title":"AgriSeva"})),r.a.createElement("style",null,"\n            df-messenger {\n              z-index: 999;\n              position: fixed;\n              --df-messenger-font-color: #000;\n              --df-messenger-font-family: Google Sans;\n              --df-messenger-chat-background: #f3f6fc;\n              --df-messenger-message-user-background: #d3e3fd;\n              --df-messenger-message-bot-background: #fff;\n              bottom: 16px;\n              right: 16px;\n            }\n          ")))};a(72);i.a.render(r.a.createElement(ne,null),document.getElementById("root"))}]),[[43,1,2]]]);
//# sourceMappingURL=main.912a25e8.chunk.js.map